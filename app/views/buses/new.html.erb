<% cities = [
  'Alirajpur', 'Anuppur', 'Ashok Nagar', 'Balaghat', 'Barwani', 'Betul', 'Bhind', 'Bhopal', 'Burhanpur', 
  'Chhatarpur', 'Chhindwara', 'Damoh', 'Datia', 'Dewas', 'Dhar', 'Dindori', 'Guna', 'Gwalior', 'Harda', 
  'Hoshangabad', 'Indore', 'Jabalpur', 'Jhabua', 'Katni', 'Khandwa (East Nimar)', 'Khargone (West Nimar)', 
  'Mandla', 'Mandsaur', 'Morena', 'Narsinghpur', 'Neemuch', 'Panna', 'Rewa', 'Rajgarh', 'Ratlam', 'Raisen', 
  'Sagar', 'Satna', 'Sehore', 'Seoni', 'Shahdol', 'Shajapur', 'Sheopur', 'Shivpuri', 'Sidhi', 'Singrauli', 
  'Tikamgarh', 'Ujjain', 'Umaria', 'Vidisha'
] %>

<h1>New Bus</h1>

<%= form_with(model: @bus, local: true, class: "needs-validation", novalidate: true) do |form| %>
  <% if @bus.errors.any? %>
    <div class="alert alert-danger" role="alert">
      <h2 style="color:black"><%= pluralize(@bus.errors.count, "error") %> prohibited this bus from being saved:</h2>
      <ul>
        <% @bus.errors.full_messages.each do |message| %>
          <li style="color:black"><%= message %></li>
        <% end %>
      </ul>
    </div>
  <% end %>

  <div class="container">
    <div class="row mb-3">
      <div class="col-md-6">
        <div class="form-group">
          <%= form.label :bus_name, class: "form-label" %>
          <%= form.text_field :bus_name, class: "form-control", placeholder: "Enter bus name" %>
        </div>
      </div>
      <div class="col-md-6">
        <div class="form-group">
          <%= form.label :bus_number, class: "form-label" %>
          <%= form.number_field :bus_number, class: "form-control", placeholder: "Enter bus number" %>
        </div>
      </div>
    </div>

    <div class="row mb-3">
      <div class="col-md-6">
        <div class="form-group">
          <%= form.label :bus_type, class: "form-label" %>
          <%= form.select :bus_type, Bus.bus_types.keys.map { |type| [type.capitalize, type] }, {}, class: "form-select", prompt: "Select bus type" %>
        </div>
      </div>
      <div class="col-md-6">
        <div class="form-group">
          <%= form.label :price_of_a_single_seat, class: "form-label" %>
          <%= form.number_field :price_of_a_single_seat, class: "form-control", placeholder: "Enter price per seat" %>
        </div>
      </div>
    </div>

    <div class="row mb-3">
      <div class="col-md-6">
        <div class="form-group">
          <%= form.label :departure_time, class: "form-label" %>
          <%= form.time_select :departure_time, { default: { hour: 0, minute: 0 } }, class: "form-control" %>
        </div>
      </div>
      <div class="col-md-6">
        <div class="form-group">
          <%= form.label :arrival_time, class: "form-label" %>
          <%= form.time_select :arrival_time, { default: { hour: 0, minute: 0 } }, class: "form-control" %>
        </div>
      </div>
    </div>

    <div class="row mb-3">
      <div class="col-md-6">
        <div class="form-group">
          <%= form.label :departure_location, class: "form-label" %>
          <%= form.select :departure_location, options_for_select(cities, @bus.departure_location), {}, class: "form-select"%>
        </div>
      </div>
      <div class="col-md-6">
        <div class="form-group">
          <%= form.label :arrival_location, class: "form-label" %>
          <%= form.select :arrival_location, options_for_select(cities, @bus.arrival_location), {}, class: "form-select" %>
        </div>
      </div>
    </div>

    <div class="row mb-3">
      <div class="col-md-6">
        <div class="form-group">
          <%= form.label :number_of_seats, class: "form-label" %>
          <%= form.number_field :number_of_seats, class: "form-control", placeholder: "Enter number of seats" %>
        </div>
      </div>
    </div>

    <div class="row">
      <div class="col">
        <div class="form-group text-center">
          <%= form.submit "Save Bus", class: "btn btn-primary btn-lg" %>
        </div>
      </div>
    </div>
  </div>
<% end %>
