<%= render 'new' %>




<script>
  function attachSeatCheckboxHandlers() {
    document.querySelectorAll('.seat-checkbox').forEach(function(seatCheckbox) {
      if (!seatCheckbox.classList.contains('unavailable')) {
        seatCheckbox.addEventListener('click', function(event) {
          event.preventDefault();
          const checkbox = seatCheckbox.querySelector('input[type="checkbox"]');
          checkbox.checked = !checkbox.checked;
          seatCheckbox.classList.toggle('checked', checkbox.checked);
        });
      }
    }); 
  }

  document.addEventListener("DOMContentLoaded", function() {
    attachSeatCheckboxHandlers();
    num =0
    document.querySelector('#seats-form').addEventListener('submit', function(event) {
      const checkedSeats = document.querySelectorAll('.seat-checkbox-input:checked');
      if (checkedSeats.length === 0) {
        event.preventDefault();
        alert("Please select at least one seat.");
      }
      else{
        var totalPrice = checkedSeats.length * <%= @bus.price_of_a_single_seat %>;

      alert("Pay amount " + totalPrice + " Rs");

           
      }

    });
  });
</script>
